<!DOCTYPE html>
<html ng-app="app" ng-controller="MainController">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />

    <!-- FACEBOOK META TAGS -->
    <meta property="og:title" content="Flavor of the Month team ratings for World of Warcraft" />
    <meta property="og:site_name" content="FotM" />
    <meta property="og:url" content="http://fotm.info" />
    <meta property="og:description" content="Website that shows currently popular team combinations for World of Warcraft arena. It allows for filtering of setups to help finding best one for your team composition and brings the feel of old single-team arenas back." />
    <meta property="og:image" content="http://www.google.com/images/srpr/logo11w.png" />
    <meta property="fb:app_id" content="{{getRoot()}}" />
    <!-- /FACEBOOK META TAGS -->
    
    <!-- GOOGLE ANALYTICS TRACKING CODE -->
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-49247455-4', 'fotm.info');
        ga('send', 'pageview');

    </script>
    <!-- /GOOGLE ANALYTICS TRACKING CODE -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <title>@ViewBag.Title</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
</head>
<body>
    <!-- INIT FACEBOOK SDK -->
    <div id="fb-root"></div>
    <script>
        (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));</script>
    <!-- -->
    <div class="container body-content">
        <!-- Navigation menu on top -->
        <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="/" class="navbar-brand">FotM</a>
                </div>

                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">

                        <li ng-repeat="region in shared.regions" class="dropdown"
                            ng-class="{active: region == shared.currentRegion}">

                            <!-- Dropdown button -->
                            <a class="dropdown-toggle notext"
                               data-toggle="dropdown">
                                {{region | uppercase}}
                            </a>

                            <!-- Dropdown menu -->
                            <ul class="dropdown-menu" role="menu">
                                <li ng-repeat="(bracket, size) in shared.brackets">
                                    <a class="notext" ng-href="{{'#/'+region+'/'+bracket}}">
                                        {{bracket}}
                                    </a>
                                </li>
                            </ul>
                        </li>

                        <li ng-class="{active: shared.currentRegion == 'about'}">
                            <a href="#/about">About</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- /Navigation menu on top -->
        <!-- Leaderboard-Now Selector -->
        <div class="row pager"
             ng-if="shared.currentRegion != 'about'">
            <a role="button" class="btn btn-lg btn-default"
               ng-class="{active: !shared.now}"
               ng-href="{{'#/'+shared.currentRegion+'/'+shared.currentBracket.text}}">
                Leaderboard
            </a>
            <a role="button" class="btn btn-lg btn-default"
               ng-class="{active: shared.now}"
               ng-href="{{'#/'+shared.currentRegion+'/'+shared.currentBracket.text+'/now'}}">
                Playing now
            </a>
        </div>
        <!-- /Leaderboard-Now Selector -->

        <div ng-view>
        </div>

    </div>

    <hr />

    <footer class="col-lg-3">
        <p>
            <div class="fb-like" 
                 data-href="{{getRoot()}}" 
                 data-layout="button" 
                 data-action="like" 
                 data-show-faces="false" 
                 data-share="false"
                 data-colorscheme="dark">
            </div>
            <div class="fb-share-button" 
                 data-href="{{getCurrentLocation()}}" 
                 data-type="button">
            </div>
        </p>
    </footer>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.8/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.8/angular-route.js"></script>
    @Scripts.Render("~/bundles/app")
</body>
</html>
